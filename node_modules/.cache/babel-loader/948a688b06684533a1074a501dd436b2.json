{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\nexports.runEnterHooks = runEnterHooks;\nexports.runChangeHooks = runChangeHooks;\nexports.runLeaveHooks = runLeaveHooks;\n\nvar _AsyncUtils = require('./AsyncUtils');\n\nvar _routerWarning = require('./routerWarning');\n\nvar _routerWarning2 = _interopRequireDefault(_routerWarning);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction createTransitionHook(hook, route, asyncArity) {\n  return function () {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    hook.apply(route, args);\n\n    if (hook.length < asyncArity) {\n      var callback = args[args.length - 1]; // Assume hook executes synchronously and\n      // automatically call the callback.\n\n      callback();\n    }\n  };\n}\n\nfunction getEnterHooks(routes) {\n  return routes.reduce(function (hooks, route) {\n    if (route.onEnter) hooks.push(createTransitionHook(route.onEnter, route, 3));\n    return hooks;\n  }, []);\n}\n\nfunction getChangeHooks(routes) {\n  return routes.reduce(function (hooks, route) {\n    if (route.onChange) hooks.push(createTransitionHook(route.onChange, route, 4));\n    return hooks;\n  }, []);\n}\n\nfunction runTransitionHooks(length, iter, callback) {\n  if (!length) {\n    callback();\n    return;\n  }\n\n  var redirectInfo = void 0;\n\n  function replace(location, deprecatedPathname, deprecatedQuery) {\n    if (deprecatedPathname) {\n      process.env.NODE_ENV !== 'production' ? (0, _routerWarning2.default)(false, '`replaceState(state, pathname, query) is deprecated; use `replace(location)` with a location descriptor instead. http://tiny.cc/router-isActivedeprecated') : void 0;\n      redirectInfo = {\n        pathname: deprecatedPathname,\n        query: deprecatedQuery,\n        state: location\n      };\n      return;\n    }\n\n    redirectInfo = location;\n  }\n\n  (0, _AsyncUtils.loopAsync)(length, function (index, next, done) {\n    iter(index, replace, function (error) {\n      if (error || redirectInfo) {\n        done(error, redirectInfo); // No need to continue.\n      } else {\n        next();\n      }\n    });\n  }, callback);\n}\n/**\n * Runs all onEnter hooks in the given array of routes in order\n * with onEnter(nextState, replace, callback) and calls\n * callback(error, redirectInfo) when finished. The first hook\n * to use replace short-circuits the loop.\n *\n * If a hook needs to run asynchronously, it may use the callback\n * function. However, doing so will cause the transition to pause,\n * which could lead to a non-responsive UI if the hook is slow.\n */\n\n\nfunction runEnterHooks(routes, nextState, callback) {\n  var hooks = getEnterHooks(routes);\n  return runTransitionHooks(hooks.length, function (index, replace, next) {\n    hooks[index](nextState, replace, next);\n  }, callback);\n}\n/**\n * Runs all onChange hooks in the given array of routes in order\n * with onChange(prevState, nextState, replace, callback) and calls\n * callback(error, redirectInfo) when finished. The first hook\n * to use replace short-circuits the loop.\n *\n * If a hook needs to run asynchronously, it may use the callback\n * function. However, doing so will cause the transition to pause,\n * which could lead to a non-responsive UI if the hook is slow.\n */\n\n\nfunction runChangeHooks(routes, state, nextState, callback) {\n  var hooks = getChangeHooks(routes);\n  return runTransitionHooks(hooks.length, function (index, replace, next) {\n    hooks[index](state, nextState, replace, next);\n  }, callback);\n}\n/**\n * Runs all onLeave hooks in the given array of routes in order.\n */\n\n\nfunction runLeaveHooks(routes) {\n  for (var i = 0, len = routes.length; i < len; ++i) {\n    if (routes[i].onLeave) routes[i].onLeave.call(routes[i]);\n  }\n}","map":{"version":3,"sources":["/Users/bytedance/Desktop/outside_workspace/sky_tower_fe/sky_tower_fe/node_modules/react-router/lib/TransitionUtils.js"],"names":["exports","__esModule","runEnterHooks","runChangeHooks","runLeaveHooks","_AsyncUtils","require","_routerWarning","_routerWarning2","_interopRequireDefault","obj","default","createTransitionHook","hook","route","asyncArity","_len","arguments","length","args","Array","_key","apply","callback","getEnterHooks","routes","reduce","hooks","onEnter","push","getChangeHooks","onChange","runTransitionHooks","iter","redirectInfo","replace","location","deprecatedPathname","deprecatedQuery","process","env","NODE_ENV","pathname","query","state","loopAsync","index","next","done","error","nextState","i","len","onLeave","call"],"mappings":"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","sourcesContent":["'use strict';\n\nexports.__esModule = true;\nexports.runEnterHooks = runEnterHooks;\nexports.runChangeHooks = runChangeHooks;\nexports.runLeaveHooks = runLeaveHooks;\n\nvar _AsyncUtils = require('./AsyncUtils');\n\nvar _routerWarning = require('./routerWarning');\n\nvar _routerWarning2 = _interopRequireDefault(_routerWarning);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction createTransitionHook(hook, route, asyncArity) {\n  return function () {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    hook.apply(route, args);\n\n    if (hook.length < asyncArity) {\n      var callback = args[args.length - 1];\n      // Assume hook executes synchronously and\n      // automatically call the callback.\n      callback();\n    }\n  };\n}\n\nfunction getEnterHooks(routes) {\n  return routes.reduce(function (hooks, route) {\n    if (route.onEnter) hooks.push(createTransitionHook(route.onEnter, route, 3));\n\n    return hooks;\n  }, []);\n}\n\nfunction getChangeHooks(routes) {\n  return routes.reduce(function (hooks, route) {\n    if (route.onChange) hooks.push(createTransitionHook(route.onChange, route, 4));\n    return hooks;\n  }, []);\n}\n\nfunction runTransitionHooks(length, iter, callback) {\n  if (!length) {\n    callback();\n    return;\n  }\n\n  var redirectInfo = void 0;\n  function replace(location, deprecatedPathname, deprecatedQuery) {\n    if (deprecatedPathname) {\n      process.env.NODE_ENV !== 'production' ? (0, _routerWarning2.default)(false, '`replaceState(state, pathname, query) is deprecated; use `replace(location)` with a location descriptor instead. http://tiny.cc/router-isActivedeprecated') : void 0;\n      redirectInfo = {\n        pathname: deprecatedPathname,\n        query: deprecatedQuery,\n        state: location\n      };\n\n      return;\n    }\n\n    redirectInfo = location;\n  }\n\n  (0, _AsyncUtils.loopAsync)(length, function (index, next, done) {\n    iter(index, replace, function (error) {\n      if (error || redirectInfo) {\n        done(error, redirectInfo); // No need to continue.\n      } else {\n          next();\n        }\n    });\n  }, callback);\n}\n\n/**\n * Runs all onEnter hooks in the given array of routes in order\n * with onEnter(nextState, replace, callback) and calls\n * callback(error, redirectInfo) when finished. The first hook\n * to use replace short-circuits the loop.\n *\n * If a hook needs to run asynchronously, it may use the callback\n * function. However, doing so will cause the transition to pause,\n * which could lead to a non-responsive UI if the hook is slow.\n */\nfunction runEnterHooks(routes, nextState, callback) {\n  var hooks = getEnterHooks(routes);\n  return runTransitionHooks(hooks.length, function (index, replace, next) {\n    hooks[index](nextState, replace, next);\n  }, callback);\n}\n\n/**\n * Runs all onChange hooks in the given array of routes in order\n * with onChange(prevState, nextState, replace, callback) and calls\n * callback(error, redirectInfo) when finished. The first hook\n * to use replace short-circuits the loop.\n *\n * If a hook needs to run asynchronously, it may use the callback\n * function. However, doing so will cause the transition to pause,\n * which could lead to a non-responsive UI if the hook is slow.\n */\nfunction runChangeHooks(routes, state, nextState, callback) {\n  var hooks = getChangeHooks(routes);\n  return runTransitionHooks(hooks.length, function (index, replace, next) {\n    hooks[index](state, nextState, replace, next);\n  }, callback);\n}\n\n/**\n * Runs all onLeave hooks in the given array of routes in order.\n */\nfunction runLeaveHooks(routes) {\n  for (var i = 0, len = routes.length; i < len; ++i) {\n    if (routes[i].onLeave) routes[i].onLeave.call(routes[i]);\n  }\n}"]},"metadata":{},"sourceType":"script"}