{"ast":null,"code":"/*eslint-disable no-empty */\n'use strict';\n\nexports.__esModule = true;\nexports.saveState = saveState;\nexports.readState = readState;\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar KeyPrefix = '@@History/';\nvar QuotaExceededErrors = ['QuotaExceededError', 'QUOTA_EXCEEDED_ERR'];\nvar SecurityError = 'SecurityError';\n\nfunction createKey(key) {\n  return KeyPrefix + key;\n}\n\nfunction saveState(key, state) {\n  try {\n    if (state == null) {\n      window.sessionStorage.removeItem(createKey(key));\n    } else {\n      window.sessionStorage.setItem(createKey(key), JSON.stringify(state));\n    }\n  } catch (error) {\n    if (error.name === SecurityError) {\n      // Blocking cookies in Chrome/Firefox/Safari throws SecurityError on any\n      // attempt to access window.sessionStorage.\n      process.env.NODE_ENV !== 'production' ? _warning2['default'](false, '[history] Unable to save state; sessionStorage is not available due to security settings') : undefined;\n      return;\n    }\n\n    if (QuotaExceededErrors.indexOf(error.name) >= 0 && window.sessionStorage.length === 0) {\n      // Safari \"private mode\" throws QuotaExceededError.\n      process.env.NODE_ENV !== 'production' ? _warning2['default'](false, '[history] Unable to save state; sessionStorage is not available in Safari private mode') : undefined;\n      return;\n    }\n\n    throw error;\n  }\n}\n\nfunction readState(key) {\n  var json = undefined;\n\n  try {\n    json = window.sessionStorage.getItem(createKey(key));\n  } catch (error) {\n    if (error.name === SecurityError) {\n      // Blocking cookies in Chrome/Firefox/Safari throws SecurityError on any\n      // attempt to access window.sessionStorage.\n      process.env.NODE_ENV !== 'production' ? _warning2['default'](false, '[history] Unable to read state; sessionStorage is not available due to security settings') : undefined;\n      return null;\n    }\n  }\n\n  if (json) {\n    try {\n      return JSON.parse(json);\n    } catch (error) {// Ignore invalid JSON.\n    }\n  }\n\n  return null;\n}","map":{"version":3,"sources":["/Users/bytedance/Desktop/outside_workspace/sky_tower_fe/sky_tower_fe/node_modules/history/lib/DOMStateStorage.js"],"names":["exports","__esModule","saveState","readState","_interopRequireDefault","obj","_warning","require","_warning2","KeyPrefix","QuotaExceededErrors","SecurityError","createKey","key","state","window","sessionStorage","removeItem","setItem","JSON","stringify","error","name","process","env","NODE_ENV","undefined","indexOf","length","json","getItem","parse"],"mappings":"AAAA;AACA;;AAEAA,OAAO,CAACC,UAAR,GAAqB,IAArB;AACAD,OAAO,CAACE,SAAR,GAAoBA,SAApB;AACAF,OAAO,CAACG,SAAR,GAAoBA,SAApB;;AAEA,SAASC,sBAAT,CAAgCC,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAACJ,UAAX,GAAwBI,GAAxB,GAA8B;AAAE,eAAWA;AAAb,GAArC;AAA0D;;AAEjG,IAAIC,QAAQ,GAAGC,OAAO,CAAC,SAAD,CAAtB;;AAEA,IAAIC,SAAS,GAAGJ,sBAAsB,CAACE,QAAD,CAAtC;;AAEA,IAAIG,SAAS,GAAG,YAAhB;AACA,IAAIC,mBAAmB,GAAG,CAAC,oBAAD,EAAuB,oBAAvB,CAA1B;AAEA,IAAIC,aAAa,GAAG,eAApB;;AAEA,SAASC,SAAT,CAAmBC,GAAnB,EAAwB;AACtB,SAAOJ,SAAS,GAAGI,GAAnB;AACD;;AAED,SAASX,SAAT,CAAmBW,GAAnB,EAAwBC,KAAxB,EAA+B;AAC7B,MAAI;AACF,QAAIA,KAAK,IAAI,IAAb,EAAmB;AACjBC,MAAAA,MAAM,CAACC,cAAP,CAAsBC,UAAtB,CAAiCL,SAAS,CAACC,GAAD,CAA1C;AACD,KAFD,MAEO;AACLE,MAAAA,MAAM,CAACC,cAAP,CAAsBE,OAAtB,CAA8BN,SAAS,CAACC,GAAD,CAAvC,EAA8CM,IAAI,CAACC,SAAL,CAAeN,KAAf,CAA9C;AACD;AACF,GAND,CAME,OAAOO,KAAP,EAAc;AACd,QAAIA,KAAK,CAACC,IAAN,KAAeX,aAAnB,EAAkC;AAChC;AACA;AACAY,MAAAA,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCjB,SAAS,CAAC,SAAD,CAAT,CAAqB,KAArB,EAA4B,0FAA5B,CAAxC,GAAkKkB,SAAlK;AAEA;AACD;;AAED,QAAIhB,mBAAmB,CAACiB,OAApB,CAA4BN,KAAK,CAACC,IAAlC,KAA2C,CAA3C,IAAgDP,MAAM,CAACC,cAAP,CAAsBY,MAAtB,KAAiC,CAArF,EAAwF;AACtF;AACAL,MAAAA,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCjB,SAAS,CAAC,SAAD,CAAT,CAAqB,KAArB,EAA4B,wFAA5B,CAAxC,GAAgKkB,SAAhK;AAEA;AACD;;AAED,UAAML,KAAN;AACD;AACF;;AAED,SAASlB,SAAT,CAAmBU,GAAnB,EAAwB;AACtB,MAAIgB,IAAI,GAAGH,SAAX;;AACA,MAAI;AACFG,IAAAA,IAAI,GAAGd,MAAM,CAACC,cAAP,CAAsBc,OAAtB,CAA8BlB,SAAS,CAACC,GAAD,CAAvC,CAAP;AACD,GAFD,CAEE,OAAOQ,KAAP,EAAc;AACd,QAAIA,KAAK,CAACC,IAAN,KAAeX,aAAnB,EAAkC;AAChC;AACA;AACAY,MAAAA,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwCjB,SAAS,CAAC,SAAD,CAAT,CAAqB,KAArB,EAA4B,0FAA5B,CAAxC,GAAkKkB,SAAlK;AAEA,aAAO,IAAP;AACD;AACF;;AAED,MAAIG,IAAJ,EAAU;AACR,QAAI;AACF,aAAOV,IAAI,CAACY,KAAL,CAAWF,IAAX,CAAP;AACD,KAFD,CAEE,OAAOR,KAAP,EAAc,CACd;AACD;AACF;;AAED,SAAO,IAAP;AACD","sourcesContent":["/*eslint-disable no-empty */\n'use strict';\n\nexports.__esModule = true;\nexports.saveState = saveState;\nexports.readState = readState;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar KeyPrefix = '@@History/';\nvar QuotaExceededErrors = ['QuotaExceededError', 'QUOTA_EXCEEDED_ERR'];\n\nvar SecurityError = 'SecurityError';\n\nfunction createKey(key) {\n  return KeyPrefix + key;\n}\n\nfunction saveState(key, state) {\n  try {\n    if (state == null) {\n      window.sessionStorage.removeItem(createKey(key));\n    } else {\n      window.sessionStorage.setItem(createKey(key), JSON.stringify(state));\n    }\n  } catch (error) {\n    if (error.name === SecurityError) {\n      // Blocking cookies in Chrome/Firefox/Safari throws SecurityError on any\n      // attempt to access window.sessionStorage.\n      process.env.NODE_ENV !== 'production' ? _warning2['default'](false, '[history] Unable to save state; sessionStorage is not available due to security settings') : undefined;\n\n      return;\n    }\n\n    if (QuotaExceededErrors.indexOf(error.name) >= 0 && window.sessionStorage.length === 0) {\n      // Safari \"private mode\" throws QuotaExceededError.\n      process.env.NODE_ENV !== 'production' ? _warning2['default'](false, '[history] Unable to save state; sessionStorage is not available in Safari private mode') : undefined;\n\n      return;\n    }\n\n    throw error;\n  }\n}\n\nfunction readState(key) {\n  var json = undefined;\n  try {\n    json = window.sessionStorage.getItem(createKey(key));\n  } catch (error) {\n    if (error.name === SecurityError) {\n      // Blocking cookies in Chrome/Firefox/Safari throws SecurityError on any\n      // attempt to access window.sessionStorage.\n      process.env.NODE_ENV !== 'production' ? _warning2['default'](false, '[history] Unable to read state; sessionStorage is not available due to security settings') : undefined;\n\n      return null;\n    }\n  }\n\n  if (json) {\n    try {\n      return JSON.parse(json);\n    } catch (error) {\n      // Ignore invalid JSON.\n    }\n  }\n\n  return null;\n}"]},"metadata":{},"sourceType":"script"}