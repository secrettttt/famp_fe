{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _PathUtils = require('./PathUtils');\n\nvar _Actions = require('./Actions');\n\nvar _createHistory = require('./createHistory');\n\nvar _createHistory2 = _interopRequireDefault(_createHistory);\n\nfunction createStateStorage(entries) {\n  return entries.filter(function (entry) {\n    return entry.state;\n  }).reduce(function (memo, entry) {\n    memo[entry.key] = entry.state;\n    return memo;\n  }, {});\n}\n\nfunction createMemoryHistory() {\n  var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n  if (Array.isArray(options)) {\n    options = {\n      entries: options\n    };\n  } else if (typeof options === 'string') {\n    options = {\n      entries: [options]\n    };\n  }\n\n  var history = _createHistory2['default'](_extends({}, options, {\n    getCurrentLocation: getCurrentLocation,\n    finishTransition: finishTransition,\n    saveState: saveState,\n    go: go\n  }));\n\n  var _options = options;\n  var entries = _options.entries;\n  var current = _options.current;\n\n  if (typeof entries === 'string') {\n    entries = [entries];\n  } else if (!Array.isArray(entries)) {\n    entries = ['/'];\n  }\n\n  entries = entries.map(function (entry) {\n    var key = history.createKey();\n    if (typeof entry === 'string') return {\n      pathname: entry,\n      key: key\n    };\n    if (typeof entry === 'object' && entry) return _extends({}, entry, {\n      key: key\n    });\n    !false ? process.env.NODE_ENV !== 'production' ? _invariant2['default'](false, 'Unable to create history entry from %s', entry) : _invariant2['default'](false) : undefined;\n  });\n\n  if (current == null) {\n    current = entries.length - 1;\n  } else {\n    !(current >= 0 && current < entries.length) ? process.env.NODE_ENV !== 'production' ? _invariant2['default'](false, 'Current index must be >= 0 and < %s, was %s', entries.length, current) : _invariant2['default'](false) : undefined;\n  }\n\n  var storage = createStateStorage(entries);\n\n  function saveState(key, state) {\n    storage[key] = state;\n  }\n\n  function readState(key) {\n    return storage[key];\n  }\n\n  function getCurrentLocation() {\n    var entry = entries[current];\n    var basename = entry.basename;\n    var pathname = entry.pathname;\n    var search = entry.search;\n    var path = (basename || '') + pathname + (search || '');\n    var key = undefined,\n        state = undefined;\n\n    if (entry.key) {\n      key = entry.key;\n      state = readState(key);\n    } else {\n      key = history.createKey();\n      state = null;\n      entry.key = key;\n    }\n\n    var location = _PathUtils.parsePath(path);\n\n    return history.createLocation(_extends({}, location, {\n      state: state\n    }), undefined, key);\n  }\n\n  function canGo(n) {\n    var index = current + n;\n    return index >= 0 && index < entries.length;\n  }\n\n  function go(n) {\n    if (n) {\n      if (!canGo(n)) {\n        process.env.NODE_ENV !== 'production' ? _warning2['default'](false, 'Cannot go(%s) there is not enough history', n) : undefined;\n        return;\n      }\n\n      current += n;\n      var currentLocation = getCurrentLocation(); // change action to POP\n\n      history.transitionTo(_extends({}, currentLocation, {\n        action: _Actions.POP\n      }));\n    }\n  }\n\n  function finishTransition(location) {\n    switch (location.action) {\n      case _Actions.PUSH:\n        current += 1; // if we are not on the top of stack\n        // remove rest and push new\n\n        if (current < entries.length) entries.splice(current);\n        entries.push(location);\n        saveState(location.key, location.state);\n        break;\n\n      case _Actions.REPLACE:\n        entries[current] = location;\n        saveState(location.key, location.state);\n        break;\n    }\n  }\n\n  return history;\n}\n\nexports['default'] = createMemoryHistory;\nmodule.exports = exports['default'];","map":{"version":3,"sources":["/Users/bytedance/Desktop/outside_workspace/sky_tower_fe/sky_tower_fe/node_modules/history/lib/createMemoryHistory.js"],"names":["exports","__esModule","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_interopRequireDefault","obj","_warning","require","_warning2","_invariant","_invariant2","_PathUtils","_Actions","_createHistory","_createHistory2","createStateStorage","entries","filter","entry","state","reduce","memo","createMemoryHistory","options","undefined","Array","isArray","history","getCurrentLocation","finishTransition","saveState","go","_options","current","map","createKey","pathname","process","env","NODE_ENV","storage","readState","basename","search","path","location","parsePath","createLocation","canGo","n","index","currentLocation","transitionTo","action","POP","PUSH","splice","push","REPLACE","module"],"mappings":"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","sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _PathUtils = require('./PathUtils');\n\nvar _Actions = require('./Actions');\n\nvar _createHistory = require('./createHistory');\n\nvar _createHistory2 = _interopRequireDefault(_createHistory);\n\nfunction createStateStorage(entries) {\n  return entries.filter(function (entry) {\n    return entry.state;\n  }).reduce(function (memo, entry) {\n    memo[entry.key] = entry.state;\n    return memo;\n  }, {});\n}\n\nfunction createMemoryHistory() {\n  var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n  if (Array.isArray(options)) {\n    options = { entries: options };\n  } else if (typeof options === 'string') {\n    options = { entries: [options] };\n  }\n\n  var history = _createHistory2['default'](_extends({}, options, {\n    getCurrentLocation: getCurrentLocation,\n    finishTransition: finishTransition,\n    saveState: saveState,\n    go: go\n  }));\n\n  var _options = options;\n  var entries = _options.entries;\n  var current = _options.current;\n\n  if (typeof entries === 'string') {\n    entries = [entries];\n  } else if (!Array.isArray(entries)) {\n    entries = ['/'];\n  }\n\n  entries = entries.map(function (entry) {\n    var key = history.createKey();\n\n    if (typeof entry === 'string') return { pathname: entry, key: key };\n\n    if (typeof entry === 'object' && entry) return _extends({}, entry, { key: key });\n\n    !false ? process.env.NODE_ENV !== 'production' ? _invariant2['default'](false, 'Unable to create history entry from %s', entry) : _invariant2['default'](false) : undefined;\n  });\n\n  if (current == null) {\n    current = entries.length - 1;\n  } else {\n    !(current >= 0 && current < entries.length) ? process.env.NODE_ENV !== 'production' ? _invariant2['default'](false, 'Current index must be >= 0 and < %s, was %s', entries.length, current) : _invariant2['default'](false) : undefined;\n  }\n\n  var storage = createStateStorage(entries);\n\n  function saveState(key, state) {\n    storage[key] = state;\n  }\n\n  function readState(key) {\n    return storage[key];\n  }\n\n  function getCurrentLocation() {\n    var entry = entries[current];\n    var basename = entry.basename;\n    var pathname = entry.pathname;\n    var search = entry.search;\n\n    var path = (basename || '') + pathname + (search || '');\n\n    var key = undefined,\n        state = undefined;\n    if (entry.key) {\n      key = entry.key;\n      state = readState(key);\n    } else {\n      key = history.createKey();\n      state = null;\n      entry.key = key;\n    }\n\n    var location = _PathUtils.parsePath(path);\n\n    return history.createLocation(_extends({}, location, { state: state }), undefined, key);\n  }\n\n  function canGo(n) {\n    var index = current + n;\n    return index >= 0 && index < entries.length;\n  }\n\n  function go(n) {\n    if (n) {\n      if (!canGo(n)) {\n        process.env.NODE_ENV !== 'production' ? _warning2['default'](false, 'Cannot go(%s) there is not enough history', n) : undefined;\n        return;\n      }\n\n      current += n;\n\n      var currentLocation = getCurrentLocation();\n\n      // change action to POP\n      history.transitionTo(_extends({}, currentLocation, { action: _Actions.POP }));\n    }\n  }\n\n  function finishTransition(location) {\n    switch (location.action) {\n      case _Actions.PUSH:\n        current += 1;\n\n        // if we are not on the top of stack\n        // remove rest and push new\n        if (current < entries.length) entries.splice(current);\n\n        entries.push(location);\n        saveState(location.key, location.state);\n        break;\n      case _Actions.REPLACE:\n        entries[current] = location;\n        saveState(location.key, location.state);\n        break;\n    }\n  }\n\n  return history;\n}\n\nexports['default'] = createMemoryHistory;\nmodule.exports = exports['default'];"]},"metadata":{},"sourceType":"script"}