{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _ExecutionEnvironment = require('./ExecutionEnvironment');\n\nvar _PathUtils = require('./PathUtils');\n\nvar _runTransitionHook = require('./runTransitionHook');\n\nvar _runTransitionHook2 = _interopRequireDefault(_runTransitionHook);\n\nvar _deprecate = require('./deprecate');\n\nvar _deprecate2 = _interopRequireDefault(_deprecate);\n\nfunction useBasename(createHistory) {\n  return function () {\n    var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n    var history = createHistory(options);\n    var basename = options.basename;\n    var checkedBaseHref = false;\n\n    function checkBaseHref() {\n      if (checkedBaseHref) {\n        return;\n      } // Automatically use the value of <base href> in HTML\n      // documents as basename if it's not explicitly given.\n\n\n      if (basename == null && _ExecutionEnvironment.canUseDOM) {\n        var base = document.getElementsByTagName('base')[0];\n        var baseHref = base && base.getAttribute('href');\n\n        if (baseHref != null) {\n          basename = baseHref;\n          process.env.NODE_ENV !== 'production' ? _warning2['default'](false, 'Automatically setting basename using <base href> is deprecated and will ' + 'be removed in the next major release. The semantics of <base href> are ' + 'subtly different from basename. Please pass the basename explicitly in ' + 'the options to createHistory') : undefined;\n        }\n      }\n\n      checkedBaseHref = true;\n    }\n\n    function addBasename(location) {\n      checkBaseHref();\n\n      if (basename && location.basename == null) {\n        if (location.pathname.indexOf(basename) === 0) {\n          location.pathname = location.pathname.substring(basename.length);\n          location.basename = basename;\n          if (location.pathname === '') location.pathname = '/';\n        } else {\n          location.basename = '';\n        }\n      }\n\n      return location;\n    }\n\n    function prependBasename(location) {\n      checkBaseHref();\n      if (!basename) return location;\n      if (typeof location === 'string') location = _PathUtils.parsePath(location);\n      var pname = location.pathname;\n      var normalizedBasename = basename.slice(-1) === '/' ? basename : basename + '/';\n      var normalizedPathname = pname.charAt(0) === '/' ? pname.slice(1) : pname;\n      var pathname = normalizedBasename + normalizedPathname;\n      return _extends({}, location, {\n        pathname: pathname\n      });\n    } // Override all read methods with basename-aware versions.\n\n\n    function listenBefore(hook) {\n      return history.listenBefore(function (location, callback) {\n        _runTransitionHook2['default'](hook, addBasename(location), callback);\n      });\n    }\n\n    function listen(listener) {\n      return history.listen(function (location) {\n        listener(addBasename(location));\n      });\n    } // Override all write methods with basename-aware versions.\n\n\n    function push(location) {\n      history.push(prependBasename(location));\n    }\n\n    function replace(location) {\n      history.replace(prependBasename(location));\n    }\n\n    function createPath(location) {\n      return history.createPath(prependBasename(location));\n    }\n\n    function createHref(location) {\n      return history.createHref(prependBasename(location));\n    }\n\n    function createLocation(location) {\n      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      return addBasename(history.createLocation.apply(history, [prependBasename(location)].concat(args)));\n    } // deprecated\n\n\n    function pushState(state, path) {\n      if (typeof path === 'string') path = _PathUtils.parsePath(path);\n      push(_extends({\n        state: state\n      }, path));\n    } // deprecated\n\n\n    function replaceState(state, path) {\n      if (typeof path === 'string') path = _PathUtils.parsePath(path);\n      replace(_extends({\n        state: state\n      }, path));\n    }\n\n    return _extends({}, history, {\n      listenBefore: listenBefore,\n      listen: listen,\n      push: push,\n      replace: replace,\n      createPath: createPath,\n      createHref: createHref,\n      createLocation: createLocation,\n      pushState: _deprecate2['default'](pushState, 'pushState is deprecated; use push instead'),\n      replaceState: _deprecate2['default'](replaceState, 'replaceState is deprecated; use replace instead')\n    });\n  };\n}\n\nexports['default'] = useBasename;\nmodule.exports = exports['default'];","map":{"version":3,"sources":["/Users/bytedance/Desktop/outside_workspace/sky_tower_fe/sky_tower_fe/node_modules/history/lib/useBasename.js"],"names":["exports","__esModule","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_interopRequireDefault","obj","_warning","require","_warning2","_ExecutionEnvironment","_PathUtils","_runTransitionHook","_runTransitionHook2","_deprecate","_deprecate2","useBasename","createHistory","options","undefined","history","basename","checkedBaseHref","checkBaseHref","canUseDOM","base","document","getElementsByTagName","baseHref","getAttribute","process","env","NODE_ENV","addBasename","location","pathname","indexOf","substring","prependBasename","parsePath","pname","normalizedBasename","slice","normalizedPathname","charAt","listenBefore","hook","callback","listen","listener","push","replace","createPath","createHref","createLocation","_len","args","Array","_key","apply","concat","pushState","state","path","replaceState","module"],"mappings":"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","sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _ExecutionEnvironment = require('./ExecutionEnvironment');\n\nvar _PathUtils = require('./PathUtils');\n\nvar _runTransitionHook = require('./runTransitionHook');\n\nvar _runTransitionHook2 = _interopRequireDefault(_runTransitionHook);\n\nvar _deprecate = require('./deprecate');\n\nvar _deprecate2 = _interopRequireDefault(_deprecate);\n\nfunction useBasename(createHistory) {\n  return function () {\n    var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n    var history = createHistory(options);\n\n    var basename = options.basename;\n\n    var checkedBaseHref = false;\n\n    function checkBaseHref() {\n      if (checkedBaseHref) {\n        return;\n      }\n\n      // Automatically use the value of <base href> in HTML\n      // documents as basename if it's not explicitly given.\n      if (basename == null && _ExecutionEnvironment.canUseDOM) {\n        var base = document.getElementsByTagName('base')[0];\n        var baseHref = base && base.getAttribute('href');\n\n        if (baseHref != null) {\n          basename = baseHref;\n\n          process.env.NODE_ENV !== 'production' ? _warning2['default'](false, 'Automatically setting basename using <base href> is deprecated and will ' + 'be removed in the next major release. The semantics of <base href> are ' + 'subtly different from basename. Please pass the basename explicitly in ' + 'the options to createHistory') : undefined;\n        }\n      }\n\n      checkedBaseHref = true;\n    }\n\n    function addBasename(location) {\n      checkBaseHref();\n\n      if (basename && location.basename == null) {\n        if (location.pathname.indexOf(basename) === 0) {\n          location.pathname = location.pathname.substring(basename.length);\n          location.basename = basename;\n\n          if (location.pathname === '') location.pathname = '/';\n        } else {\n          location.basename = '';\n        }\n      }\n\n      return location;\n    }\n\n    function prependBasename(location) {\n      checkBaseHref();\n\n      if (!basename) return location;\n\n      if (typeof location === 'string') location = _PathUtils.parsePath(location);\n\n      var pname = location.pathname;\n      var normalizedBasename = basename.slice(-1) === '/' ? basename : basename + '/';\n      var normalizedPathname = pname.charAt(0) === '/' ? pname.slice(1) : pname;\n      var pathname = normalizedBasename + normalizedPathname;\n\n      return _extends({}, location, {\n        pathname: pathname\n      });\n    }\n\n    // Override all read methods with basename-aware versions.\n    function listenBefore(hook) {\n      return history.listenBefore(function (location, callback) {\n        _runTransitionHook2['default'](hook, addBasename(location), callback);\n      });\n    }\n\n    function listen(listener) {\n      return history.listen(function (location) {\n        listener(addBasename(location));\n      });\n    }\n\n    // Override all write methods with basename-aware versions.\n    function push(location) {\n      history.push(prependBasename(location));\n    }\n\n    function replace(location) {\n      history.replace(prependBasename(location));\n    }\n\n    function createPath(location) {\n      return history.createPath(prependBasename(location));\n    }\n\n    function createHref(location) {\n      return history.createHref(prependBasename(location));\n    }\n\n    function createLocation(location) {\n      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      return addBasename(history.createLocation.apply(history, [prependBasename(location)].concat(args)));\n    }\n\n    // deprecated\n    function pushState(state, path) {\n      if (typeof path === 'string') path = _PathUtils.parsePath(path);\n\n      push(_extends({ state: state }, path));\n    }\n\n    // deprecated\n    function replaceState(state, path) {\n      if (typeof path === 'string') path = _PathUtils.parsePath(path);\n\n      replace(_extends({ state: state }, path));\n    }\n\n    return _extends({}, history, {\n      listenBefore: listenBefore,\n      listen: listen,\n      push: push,\n      replace: replace,\n      createPath: createPath,\n      createHref: createHref,\n      createLocation: createLocation,\n\n      pushState: _deprecate2['default'](pushState, 'pushState is deprecated; use push instead'),\n      replaceState: _deprecate2['default'](replaceState, 'replaceState is deprecated; use replace instead')\n    });\n  };\n}\n\nexports['default'] = useBasename;\nmodule.exports = exports['default'];"]},"metadata":{},"sourceType":"script"}